"use strict";var CONFIG={during:1e3,height:40,width:"100%",ease:"cubic-bezier(0, 1, 0, 1)",color:"#000",columnStyle:""},LOCK=500;Component({properties:{value:String,min:String,random:{type:Boolean,value:!1},max:String,len:{type:Number,value:100},options:{type:Object,value:{}}},data:{columns:[],_options:JSON.parse(JSON.stringify(CONFIG)),animationData:null},attached:function(){this.renderStyle()},methods:{start:function(){this.data.animationData&&this.reset(),this.run()},run:function(){var t=this.data._options,a=this.setRange();this.setData({columns:a});var n=wx.createAnimation({duration:t.during,timingFunction:t.ease});n.translateY(-(a.length-1)*t.height+"px").step(),this.setData({animationData:n.export()})},reset:function(){var t=wx.createAnimation({duration:0});this.setData({animationData:t.translateY(0).step().export(),columns:[]})},randArray:function(t,a,n){return Array.from({length:t},function(t){return Math.floor(Math.random()*(n-a))+a})},setRange:function(){var t=this.properties,a=t.max,n=t.min,e=t.value,i=t.random,r=t.len,s=[];if(""!=n.trim()&&!isNaN(n)||(n=0),""!=e.trim()&&!isNaN(e)||(e=0),""!=a.trim()&&!isNaN(a)||(a=e),i)return n=parseInt(n),(a=parseInt(a))<=n?(n=a,[e]):(LOCK<r&&(r=LOCK),(s=this.randArray(r,n,a-1)).push(e),s);n=parseInt(n),(a=parseInt(e))<n&&(n=a),LOCK<a-n&&(n=a-LOCK);for(var o=n;o<=e;o++)s.push(o);return s},renderStyle:function(){var n=this.properties.options,e=this.data._options;Object.keys(n).map(function(t){var a=n[t];switch(t){case"during":case"height":!parseInt(a)&&0!==a&&"0"!==a||(e[t]=a);break;default:a&&(e[t]=a)}}),this.setData({_options:e})}}});