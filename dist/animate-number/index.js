"use strict";var CONFIG={during:1e3,height:40,width:"100%",ease:"cubic-bezier(0, 1, 0, 1)",color:"#000",columnStyle:""},LOCK=500;Component({properties:{value:String,min:String,random:{type:Boolean,value:!1},max:String,len:{type:Number,value:100},options:{type:Object,value:{}}},data:{columns:[],_options:JSON.parse(JSON.stringify(CONFIG)),animationData:null},attached:function(){this.renderStyle()},methods:{start:function(){var n=this;this.data.animationData?this.reset().then(function(t){n.run()}):this.run()},run:function(){var t=this.data._options,n=this.setRange();this.setData({columns:n});var a=wx.createAnimation({duration:t.during,timingFunction:t.ease});a.translateY(-(n.length-1)*t.height+"px").step(),this.setData({animationData:a.export()})},reset:function(){var e=this;return new Promise(function(t,n){var a=wx.createAnimation({duration:0});e.setData({animationData:a.translateY(0).step().export(),columns:[]}),t()})},randArray:function(t,n,a){return Array.from({length:t},function(t){return Math.floor(Math.random()*(a-n))+n})},setRange:function(){var t=this.properties,n=t.max,a=t.min,e=t.value,r=t.random,i=t.len,s=[];if(""!=a.trim()&&!isNaN(a)||(a=0),""!=e.trim()&&!isNaN(e)||(e=0),""!=n.trim()&&!isNaN(n)||(n=e),r)return a=parseInt(a),(n=parseInt(n))<=a?(a=n,[e]):(LOCK<i&&(i=LOCK),(s=this.randArray(i,a,n-1)).push(e),s);a=parseInt(a),(n=parseInt(e))<a&&(a=n),LOCK<n-a&&(a=n-LOCK);for(var o=a;o<=e;o++)s.push(o);return s},renderStyle:function(){var a=this.properties.options,e=this.data._options;Object.keys(a).map(function(t){var n=a[t];switch(t){case"during":case"height":!parseInt(n)&&0!==n&&"0"!==n||(e[t]=n);break;default:n&&(e[t]=n)}}),this.setData({_options:e})}}});